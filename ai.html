<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Med AI Tutor</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<style>
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;background:#f6f8fb;color:#222;margin:0;padding:0}
header{background:#2a5c8f;color:#fff;padding:16px;text-align:center;box-shadow:0 8px 24px rgba(0,0,0,.08)}
h1{margin:0;font-size:24px}
.container{max-width:700px;margin:24px auto;padding:16px;background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.08)}
textarea{width:100%;padding:12px;border-radius:8px;border:1px solid #ccc;font-size:16px;resize:none}
button{background:#ff6b6b;color:#fff;border:none;padding:12px 24px;border-radius:10px;font-size:16px;cursor:pointer;margin-top:12px;transition:transform 0.2s}
button:hover{background:#ff5252;transform:scale(1.05)}
#aiOutput{margin-top:16px;padding:12px;background:#eef4fb;border-radius:8px;min-height:80px;white-space:pre-wrap}
footer{text-align:center;padding:16px;margin-top:24px;color:#555;font-size:14px}
.chat-row{margin-bottom:12px}
.chat-user{font-weight:bold;color:#2a5c8f}
.chat-ai{font-weight:bold;color:#ff6b6b}
</style>
</head>
<body>

<header>
<h1>üßë‚Äç‚öïÔ∏è Med AI Tutor</h1>
<p>Ask medical questions and get instant AI answers!</p>
</header>

<div class="container">
<textarea id="userInput" rows="4" placeholder="Ask your medical question here..."></textarea>
<button id="askBtn">Ask AI</button>
<div id="aiOutput"></div>
</div>

<footer>
&copy; <span id="yr"></span> MedStudy. Built for medicos ‚ù§Ô∏è
</footer>

<script>
document.getElementById("yr").textContent = new Date().getFullYear();

// Your public Hugging Face Space API URL
const spaceApiUrl = "https://bman21-medstudyeasyai.hf.space/run/predict";

document.getElementById("askBtn").addEventListener("click", async () => {
    const prompt = document.getElementById("userInput").value.trim();
    if(!prompt) return alert("Please enter a question!");

    const outputDiv = document.getElementById("aiOutput");

    // Show thinking message
    outputDiv.innerHTML += `<div class="chat-row"><span class="chat-user">You:</span> ${prompt}</div>`;
    outputDiv.innerHTML += `<div class="chat-row"><span class="chat-ai">AI:</span> ü§ñ Thinking...</div>`;
    outputDiv.scrollTop = outputDiv.scrollHeight;

    try {
        const response = await fetch(spaceApiUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ data: [prompt] })
        });

        const result = await response.json();
        const answer = result.data && result.data[0] ? result.data[0] : "‚ö†Ô∏è AI did not return a valid response.";

        // Replace thinking with actual answer
        outputDiv.querySelectorAll(".chat-ai")[outputDiv.querySelectorAll(".chat-ai").length-1].textContent = answer;
        outputDiv.scrollTop = outputDiv.scrollHeight;

    } catch(err){
        console.error(err);
        outputDiv.querySelectorAll(".chat-ai")[outputDiv.querySelectorAll(".chat-ai").length-1].textContent = "‚ö†Ô∏è Error connecting to AI.";
    }

    // Clear input
    document.getElementById("userInput").value = "";
});
</script>

</body>
</html>
